<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slot Web Game</title>

<style>
body{
  margin:0;
  background:radial-gradient(circle,#222,#000);
  color:#fff;
  font-family:Arial;
}
.topbar{
  background:#111;
  padding:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 2px 10px #000;
}
.balance{
  font-size:18px;
  color:#f1c40f;
}
button{
  padding:12px 22px;
  font-size:16px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}
.spin{
  background:linear-gradient(45deg,#e74c3c,#c0392b);
  color:#fff;
  box-shadow:0 0 15px #e74c3c;
}
.fakeTopup{
  background:#27ae60;
  color:#fff;
}

.game{
  text-align:center;
  padding-top:40px;
}
.slot{
  display:flex;
  justify-content:center;
  gap:20px;
  font-size:70px;
  margin:25px 0;
}
.box{
  width:90px;
  height:90px;
  background:#000;
  border-radius:12px;
  border:3px solid #f1c40f;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 0 15px #f1c40f;
}
.result{
  font-size:20px;
  min-height:28px;
}
</style>
</head>

<body>

<div class="topbar">
  <div class="balance">ğŸ’° <span id="money"></span> xu</div>
  <button class="fakeTopup" onclick="topup()">Náº P MIá»„N PHÃ</button>
</div>

<div class="game">
  <h1>ğŸ° SLOT GAME</h1>

  <div class="slot">
    <div class="box" id="s1">â“</div>
    <div class="box" id="s2">â“</div>
    <div class="box" id="s3">â“</div>
  </div>

  <button class="spin" onclick="spin()">QUAY (-50)</button>
  <div class="result" id="result"></div>
</div>

<audio id="spinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-slot-machine-spin-1930.mp3"></audio>
<audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>

<script>
const icons=["ğŸ’","ğŸ‹","â­","ğŸ‰","ğŸ””"];
let money = Number(localStorage.getItem("money")) || 5000;
updateMoney();

function spin(){
  if(money < 50){
    result.innerText="ğŸ’€ Háº¿t tiá»n!";
    return;
  }
  money -= 50;
  updateMoney();
  spinSound.play();
  result.innerText="Äang quay...";

  let t=0;
  const roll=setInterval(()=>{
    s1.innerText=rand();
    s2.innerText=rand();
    s3.innerText=rand();
    t++;
    if(t>15){
      clearInterval(roll);
      cheat();
    }
  },80);
}

function cheat(){
  let r=Math.random();
  if(r<0.6){
    s1.innerText="ğŸ’"; s2.innerText="ğŸ’"; s3.innerText=randDiff("ğŸ’");
    result.innerText="ğŸ˜¬ SuÃ½t trÃºng!";
  }else if(r<0.9){
    result.innerText="ğŸ˜… TrÆ°á»£t!";
  }else if(r<0.99){
    win(200,"ğŸ™‚ Tháº¯ng +200");
  }else{
    win(2000,"ğŸ’¥ JACKPOT +2000");
  }
}

function win(x,t){
  money+=x;
  updateMoney();
  winSound.play();
  result.innerText=t;
}

function topup(){
  money+=5000;
  updateMoney();
  result.innerText="ğŸ ÄÃ£ náº¡p 3.000 xu";
}

function updateMoney(){
  localStorage.setItem("money",money);
  document.getElementById("money").innerText=money;
}
function rand(){return icons[Math.floor(Math.random()*icons.length)]}
function randDiff(x){let r;do{r=rand()}while(r===x);return r}
</script>

</body>
</html>
